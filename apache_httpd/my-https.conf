<VirtualHost *:443>
    ServerName forum.mydomain.org

    SSLEngine On
    SSLCertificateFile      /etc/ssl/certs/ss_server.crt
    SSLCertificateKeyFile /etc/ssl/private/ss_server.key

    SSLProxyEngine On
    SSLProxyCACertificateFile /etc/ssl/certs/ss_server.crt

    ProxyPreserveHost On
    ProxyRequests Off

    # required to pass user credentials to next server, e.g. required for scm
    SetEnv proxy-chain-auth

    ProxyPass /hsm/ http://hsm-arduino-backend:8080/hsm/
    ProxyPassReverse /hsm/ http://hsm-arduino-backend:8080/hsm/

    <Location />
            AuthUserFile /var/www/passwd/passwords
            AuthName authorization
            AuthType Basic
            Require valid-user
            Order allow,deny
            Allow from all
    </Location>



#    CustomLog /var/log/apache2/discourse_apache_proxy_https_access.log combined
#    ErrorLog /var/log/apache2/discourse_apache_proxy_https_error.log
</VirtualHost>
